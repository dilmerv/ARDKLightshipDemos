// Copyright 2021 Niantic, Inc. All Rights Reserved.

using System;
using UnityEngine;

namespace Niantic.ARDK.AR.SLAM
{
  /// @brief A map that is generated by the Computer Vision system on a host device
  /// based on the world around the device. All other devices receive maps from the host
  /// and try to sync against the maps to figure out where they are in the world
  /// with respect to the host.
  /// @remarks When a map is published by the host device and reaches the other client
  /// devices in the session, the client devices need to look towards the position where
  /// the host has published the map in order to sync.
  public interface IARMap:
    IDisposable
  {
    /// <summary>
    /// A unique identifier representing this map.
    /// </summary>
    Guid Identifier { get; }

    /// <summary>
    /// The Unity-specific scaling factor applied to this map's Transform.
    /// </summary>
    float WorldScale { get; }

    /// <summary>
    /// Transform of the approximate center of the map. The orientation is always identity.
    /// </summary>
    Matrix4x4 Transform { get; }

    // This is odd to be here, but we have some other classes not in the ARDK that use the native
    // handle. We can either make the entire _NativeARMap public, or we expose these properties
    // to tell if NativeHandle can be accessed and to actually access it.
    bool CanGetNativeHandle { get; }
    IntPtr NativeHandle { get; }
  }
}
